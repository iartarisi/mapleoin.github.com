<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Noto Sans" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<link rel="stylesheet" type="text/css" href="/css/pygments.css" />
<link rel="stylesheet" type="text/css" href="/css/archive.css" />
<link rel="shortcut icon" href="/favico.ico" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="/tag/foss.xml" />
<title>Revolution blahg 
    | Articles tagged foss
</title>
</head>
<body>
<div id="container">
  <div id="header">
    <h1><a href="/" class="title">Revolution blahg</a></h1>
    <a href="/">home</a>
    <a href="/archive">archive</a>
    <a href="/about">about</a>
  </div>
<div id="content">
    <article id="python-class-meta">
        <h2><a href="http://mapleoin.github.io/perma/python-class-meta">The origins of the class Meta idiom in python</a></h2>
        <div class="postmeta">Sunday, February 28, 2016</div>

        <div class="entry">
            	<p>So I keep finding this <code>class Meta</code> idiom in python <span class="caps">API</span>s lately. Found it in <a href="http://factoryboy.readthedocs.org/en/latest/index.html">factory-boy</a> and <a href="https://wtforms.readthedocs.org/en/latest/meta.html"><span class="caps">WTF</span>orms</a> and I suspected they both got it from <a href="https://docs.djangoproject.com/en/1.9/topics/db/models/#meta-options">Django</a>, but I googled and couldn&#8217;t find any explanations of the reason for it or where it came from or why they&#8217;re all it <code>class Meta</code>. So here it is!</p>

	<h4>TL;DR What it is</h4>

	<p>The inner <code>Meta</code> class has absolutely no relation to python&#8217;s <a href="https://www.python.org/doc/essays/metaclasses/">metaclasses</a>. The name is just a coincidence of history (as you can read below).</p>

	<p>There&#8217;s nothing magical about this syntax at all, here&#8217;s an example from Django&#8217;s documentation:</p>

<div class="Python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Ox</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">horn_length</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;horn_length&quot;</span><span class="p">]</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s2">&quot;oxen&quot;</span>
</pre></div>
</div>

	<p>Having an inner <code>Meta</code> class makes it easier for both the users and the <span class="caps">ORM</span> to tell what is a field on the model and what is just other information (or metadata if you like) about the model. The <span class="caps">ORM</span> can simply do <code>your_model.pop('Meta')</code> to retrieve the information it needs. You can also do this in any library you implement just as <code>factory-boy</code> and <code>WTForms</code> have done.</p>

	<h4>Some early Django history</h4>

	<p>Now for the longer story. I did some software archaeology, which should totally be a thing!, and discovered the first commit which mentions <code>class Meta</code> (actually <code>class META</code><sup class="footnote" id="fnrev6fa41e572387432fa47322846f2b2811"><a href="#fn6fa41e572387432fa47322846f2b2811">1</a></sup>) in Django: <a href="https://github.com/django/django/commit/25264c86048d442a4885dfebae94510e2fa0c1e4">commit 25264c86</a>. There is a <a href="https://code.djangoproject.com/wiki/ModelSyntaxChangeInstructions">Release Notes wiki page</a> which includes that change.</p>

	<p>From there we can see how Django models were declared before the introduction of the internal <code>class Meta</code>. A Django Model class had a few special attributes. The <code>db_table</code> attribute held the <span class="caps">SQL</span> table name. A <code>fields</code> attribute was a tuple (!) of instances of field types (e.g. <code>CharField</code>, <code>IntegerField</code>, <code>ForeignKey</code>). These mapped to <span class="caps">SQL</span> table columns. One other interesting attribute was <code>admin</code> which was mostly used to describe how that model would behave in django&#8217;s admin interface. Now all these classes were defined in the <code>django.core.meta</code> package i.e. <code>meta.Model</code>, <code>meta.CharField</code>, <code>meta.ForeignKey</code>, <code>meta.Admin</code>. <em>That&#8217;s so meta!</em> (and probably where the name came from in the end)</p>

	<p>In a <code>django-developers</code> mailing list thread from July 2005 titled <cite><a href="https://groups.google.com/forum/#%21msg/django-developers/IZdH8K8IbLA/AIJGlt8d3icJ">Cleaner approach to <span class="caps">ORM</span> fields description</a></cite> user <code>deelan</code> suggests bringing some of <a href="https://en.wikipedia.org/wiki/SQLObject%27s"><span class="caps">SQLO</span>bject</a> ideas to Django&#8217;s <span class="caps">ORM</span>. This seems to be the first seed of the idea of having an inner class in Django to store part of a model&#8217;s attributes:</p>

	<blockquote>
		<p>it&#8217;s desiderable to avoid name clashes between fields, so it would be<br />
good to have a way to wrap fields into a private namespace.<br />
<cite>&#8212; <code>deelan</code>, <a href="https://groups.google.com/forum/#%21msg/django-developers/IZdH8K8IbLA/AIJGlt8d3icJ">Cleaner approach to <span class="caps">ORM</span> fields description</a></cite></p>
	</blockquote>

	<p>At the end of the thread, <a href="https://code.djangoproject.com/ticket/122">django ticket 122</a> is created which seems to contain the first mention of a separate internal <code>Meta</code> class.</p>

	<p>What started off as a backwards-compatible change, soon turned backwards-incompatible and was <q cite="https://groups.google.com/d/msg/django-developers/z_eGMWTJBqk/Fa3xur7J0jwJ">the first really big community-driven improvement to Django</q> as Adrian Holovaty will later describe it in the release announcement which included the change.</p>

	<p>The first patch on <a href=":https://code.djangoproject.com/ticket/122">ticket 122</a> by Matthew Marshall started by suggesting that fields should be able to be defined directly on the model class, as class attributes (<em>Build models using fieldname=FieldClass</em>) rather than in the <code>fields</code> list. So:</p>

<div class="Python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Poll</span><span class="p">(</span><span class="n">meta</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">question</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">maxlength</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">pub_date</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="s1">&#39;date published&#39;</span><span class="p">)</span>
</pre></div>
</div>

	<p>rather than:</p>

<div class="Python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Poll</span><span class="p">(</span><span class="n">meta</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">meta</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">maxlength</span><span class="o">=</span><span class="mi">200</span><span class="p">),</span>
        <span class="n">pub_date</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="s1">&#39;date published&#39;</span><span class="p">),</span>
    <span class="p">)</span>
</pre></div>
</div>

	<p>But also that there should be two ways of defining a <code>ForeignKey</code>:</p>

<div class="Python"><div class="highlight"><pre><span class="n">ForeignKey</span> <span class="o">=</span> <span class="n">Poll</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;edit_inline&#39;</span><span class="p">:</span><span class="bp">True</span><span class="p">,</span> <span class="s1">&#39;num_in_admin&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="o">.</span>
<span class="c1">#the attribute name is irrelevant here:</span>
<span class="n">anything</span> <span class="o">=</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="n">Poll</span><span class="p">,</span> <span class="n">edit_inline</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">num_in_admin</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>

	<p>In his first comment, <code>mmarshall</code> introduces the inner <code>class Meta</code> to hold anything that&#8217;s not a field: the table name (strangely renamed to <code>module_name</code>) and the admin options. The fields would be class attributes.</p>

	<p>The decision over what goes in an inner class and what goes in the outer class seems to be left to the user. An optional <code>class Field</code> inner class would be supported so the fields would live there and the metadata would live as class attributes (this seemed to offer the advantage of being backwards-compatible with the <code>admin</code> class attribute while allowing tables to have a column that&#8217;s also named <code>admin</code>.</p>

	<p>There are some other ideas thrown around and the syntax for <code>ForeignKey</code> is also discussed. At one point, Adrian Holovaty (<code>adrian</code>) intervenes to say (about the original <code>class Meta/class Field</code> suggestion):</p>

	<blockquote>
		<p>It&#8217;s too flexible, to the point of confusion. Making it possible to do either class Meta or class Field or plain class attributes just smacks of &#8220;there&#8217;s more than one way to do it.&#8221; There should be one, clear, obvious way to do it. If we decide to change model syntax, let&#8217;s have class Meta for non-field info, and all fields are just attributes of the class.<br />
<cite>&#8212; Adrian Holovaty, <a href="https://code.djangoproject.com/ticket/122#comment%3A9">django ticket 122, comment 9</a></cite></p>
	</blockquote>

	<p>The thread goes on from there. There are some detractors to the idea (citing performance and conformance to other python <span class="caps">API</span>s), there are discussions about implementation details and talking again about the <code>ForeignKey</code> syntax.</p>

	<p>Then, in a dramatic turn of events, Adrian Holovaty <strong>closes the ticket as wontfix!</strong>:</p>

	<blockquote>
		<p>Jacob [Kaplan-Moss] and I have talked this over at length, and we&#8217;ve decided the model syntax shouldn&#8217;t change. Using a fieldname=FieldClass syntax would require too much &#8220;magic&#8221; behind the scenes for minimal benefit.<br />
<cite>&#8212; Adrian Holovaty, <a href="https://code.djangoproject.com/ticket/122#comment%3A33">django ticket 122, comment 33</a></cite></p>
	</blockquote>

	<p>It&#8217;s interesting, because <span class="caps">IMHO</span> this was a huge differentiator in terms of making django&#8217;s models <span class="caps">API</span> more human and was also what other frameworks like Rails and <span class="caps">SQLO</span>bject were doing at the time.</p>

	<p>An <a href="https://code.djangoproject.com/attachment/ticket/122/modeldiscuss_cleanedup.txt"><span class="caps">IRC</span> discussion</a> is then referenced in the ticket.<sup class="footnote" id="fnrev0de7ffed970e4c0fa0c018a201a85966"><a href="#fn0de7ffed970e4c0fa0c018a201a85966">2</a></sup> From that discussion, it seems that <code>adrian</code>&#8217;s reasons for closing were mostly concerns about the <code>ForeignKey</code> syntax and making a backwards-incompatible change to the model. <code>rmunn</code> does a great job of moderating the discussion, clarifying the situation and everyone&#8217;s opinions while strongly pushing for the new syntax.</p>

	<p>The trac ticket is reopened as a consequence and it looks like smooth-sailing from the on. Some days later the new syntax is merged and the ticket is once again closed, this time with <em>Resolution</em> set to <em>fixed</em>.</p>

	<p>Adrian will later announce the change in a <code>django-developers</code> mailing list post. Here are some interesting fragments from that mailing list post:</p>

	<p><blockquote><br />
I apologize for the backwards-incompatibility, but this is still unofficial software. ;-) Once we reach 1.0 &#8212; which is much closer now that the model syntax is changed &#8212; we&#8217;ll be very dedicated to backwards-compatibility.</p>

	<p>I can&#8217;t think of any other backwards-incompatible changes that we&#8217;re planning before 1.0 (knock on wood). If this isn&#8217;t the last one, though, it&#8217;s at least the last <strong>major</strong> one.<br />
<cite>&#8212; Adrian Holovaty, <a href="https://groups.google.com/d/msg/django-developers/z_eGMWTJBqk/Fa3xur7J0jwJ"><span class="caps">IMPORTANT</span>: Django model syntax is changing</a></cite><br />
</blockquote></p>

	<p>Things didn&#8217;t go as planned. In May 2006, came <a href="https://github.com/django/django/commit/f69cf70ed813a8cd7e1f963a14ae39103e8d5265">commit f69cf70e</a> which was exactly another <em>let&#8217;s-change-everything-in-one-huge-branch</em> commit which was released as part of Django <strong>0.95</strong>. As part of this <span class="caps">API</span> change, <code>class META</code> was renamed to <code>class Meta</code> (because it&#8217;s <em>easier on the eyes</em>). You can find the details on <a href="https://code.djangoproject.com/wiki/RemovingTheMagic">RemovingTheMagic wiki page</a>. It&#8217;s funny how in <a href="https://code.djangoproject.com/ticket/122">ticket 122</a> all the comments use the <code>Meta</code> capitalization, except for the last person (who I guess submitted the patch) who uses <code>META</code>. There was some discussion, both in the ticket and on <span class="caps">IRC</span>, about it and a few people had concerns that users of Django would actually want to have a field called <code>Meta</code> in their models and the inner class name would clash with that.</p>

	<h4>That&#8217;s it. Almost&#8230;</h4>

	<p>Anyway, so that&#8217;s the end of the story of how Django got its <code>class Meta</code>. Now what if I told you that all of this had already happened more than one year before in the <span class="caps">SQLO</span>bject project? Remember that first post to <code>django-developers</code> which said Django models should hold some of its attributes in a separate inner class like <span class="caps">SQLO</span>bject already does?</p>

	<p>In April 2014, Ian Bicking (creator of <span class="caps">SQLO</span>bject) sent an email to the <code>sqlobject-discuss</code> mailing list:</p>

	<blockquote>
		<p>There&#8217;s a bunch of metadata right now that is being stored in various instance variables, all ad hoc like, and with no introspective interfaces.  I&#8217;d like to consolidate these into a single object/class that is separated from the <span class="caps">SQLO</span>bject class.  This way I don&#8217;t have to worry about name clashes, and I don&#8217;t feel like every added little interface will be polluting people&#8217;s classes.  (Though most of the public methods that are there now will remain methods of the <span class="caps">SQLO</span>bject subclasses, just like they are now)  So I&#8217;m looking for feedback on how that should work.<br />
<cite>&#8212; Ian Bicking, <a href="https://sourceforge.net/p/sqlobject/mailman/message/7522562/">Metadata container</a></cite></p>
	</blockquote>

	<p>His code example:</p>

<div class="Python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Contact</span><span class="p">(</span><span class="n">SQLObject</span><span class="p">):</span>
     <span class="k">class</span> <span class="nc">sqlmeta</span><span class="p">(</span><span class="n">SQLObject</span><span class="o">.</span><span class="n">sqlmeta</span><span class="p">):</span>
         <span class="n">table</span> <span class="o">=</span> <span class="s1">&#39;contact_table&#39;</span>
         <span class="n">cacheInstances</span> <span class="o">=</span> <span class="bp">False</span>
     <span class="n">name</span> <span class="o">=</span> <span class="n">StringCol</span><span class="p">()</span>
</pre></div>
</div>

	<p><span class="caps">SQLO</span>bject&#8217;s community did not seem nearly as animated as Django&#8217;s. There were a couple of emails on the <code>sqlobject-discuss</code> mailing list from Ian Bicking which included the proposal and asked for feedback. I suspect some discussion happened through some other channels, but this community was neither as big nor as good at docummenting its functioning as Django. (And sourceforge&#8217;s interface to the mailing list archives and cvs logs does not make this easy to navigate).</p>

	<p>A year later, Ian Bicking takes part in the <code>django-developers</code> mailinglist discussion where he makes some small syntax suggestions, but it does not seem that he made any other contributions to the design of the django models <span class="caps">API</span>.</p>

	<h4>Conclusion</h4>

	<p>As far as I could tell, Ian Bicking is the originator of the idea of storing metadata in a <strong>metadata container</strong> inner class. Although it was the Django project which settled on the <code>class Meta</code> name popularised it outside of its own community.</p>

	<p>Anyway, that&#8217;s the end of the story. To me, it shows just how awesome open source and the open internet can be. The fact that I was able to find all of this 11 years later, complete with the original source code, commit logs and all the discussion around the implementation on the issue tracker, mailing lists and <span class="caps">IRC</span> logs is just amazing community work and puts a tear in my eye.</p>

	<p>Hope you&#8217;ve enjoyed the ride!</p>

	<p class="footnote" id="fn6fa41e572387432fa47322846f2b2811"><sup>1</sup> because in 2005, people were less soft-spoken</p>

	<p class="footnote" id="fn0de7ffed970e4c0fa0c018a201a85966"><sup>2</sup> It&#8217;s very fun, you should read it. At some point someone&#8217;s cat catches a blue jay. And I think they meant it literally.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/python.html">python</a>
                <a href="/tag/django.html">django</a>
                <a href="/tag/foss.html">foss</a>
        </div>
        <a href="http://mapleoin.github.io/perma/python-class-meta#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="FOSDEM-2012-review">
        <h2><a href="http://mapleoin.github.io/perma/FOSDEM-2012-review">FOSDEM 2012 review</a></h2>
        <div class="postmeta">Wednesday, February 15, 2012</div>

        <div class="entry">
            	<p>I went to <a href="http://fosdem.org"><span class="caps">FOSDEM</span></a> this year. Thanks <a href="http://suse.com"><span class="caps">SUSE</span></a> for sponsoring my trip! Here is a short review for the projects that I found interesting at this year&#8217;s <span class="caps">FOSDEM</span>.</p>

	<h4><span class="caps">SATURDAY</span></h4>

	<h4><a href="http://aeolusproject.org/">The Aeolus Project</a></h4>

	<h5>Francesco Vollero &#8211; Red Hat</h5>

	<p>This is a very interesting project if you can go past how <em>meta</em> it is.  It wants to be an abstraction over all the existing private and public cloud solutions. The aim of the project is to be able to create and control a virtual system throughout its life cycle. It can be converted from one VM image format to another and be deployed/moved from one cloud provider to another. Groups of images can be setup and controlled together. The way resources are managed and billed would also be cloud-independent.</p>

	<p>It relies heavily on the DeltaCloud project.</p>

	<h4>Open Clouds with <a href="http://deltacloud.apache.org/">DeltaCloud</a></h4>

	<h5>Michal Fojtik &#8211; Red Hat</h5>

	<p>DeltaCloud aims to be a <span class="caps">REST</span>ful <span class="caps">API</span> that is able to abstract all of the other public or private cloud <span class="caps">API</span>s, allowing for the development of cloud-independent software.  The project says it wants to be truly independent (esp. from Red Hat). It was accepted as a top-level Apache project.</p>

	<h4><span class="caps">DMTF</span> <span class="caps">CIMI</span> and Apache DeltaCloud</h4>

	<h5>Marios Andreou &#8211; Red Hat</h5>

	<p>The <span class="caps">CIMI</span> <span class="caps">API</span> is a specification for interacting with various cloud-resources. A lot of very big companies are part of the <span class="caps">DMTF</span> Cloud Management Working Group: Red Hat, VMware Inc., Oracle, <span class="caps">IBM</span>, Microsoft Corporation, Huawei, Fujitsu, Dell. It is currently being implemented as part of the DeltaCloud <span class="caps">API</span>. The presenter also showed some implementation details: a lot of the code is shared between the DeltaCloud and the <span class="caps">CIMI</span> <span class="caps">API</span>.</p>

	<h4>Infrastructure as an opensource project</h4>

	<h5>Ryan Lane &#8211; Wikimedia Foundation</h5>

	<p>The talk went into some detail about the whole Wikimedia setup. It is built on top of open source projects and aims to be entirely free and available to anyone who wants to know more about it. The speaker presented some of the issues that the Wikimedia organization faced when they decided to give full root access to their machines to volunteers and how to allow for different levels of trust.</p>

	<h4>Orchestration for the cloud &#8211; <a href="https://juju.ubuntu.com/">Juju</a></h4>

	<h5>Dave Walker &#8211; Canonical</h5>

	<p>Juju is a system for building recipes of configurations and packages that can then be deployed on openstack/EC2 systems. The project aims to integrate with tools like chef and puppet to be able to manage deploying, connecting, configuring and running suites of applications in the cloud.</p>

	<h4>OpenStack developers meeting</h4>

	<p>This was a rather informal discussion. 4 major distros were present: Fedora, Ubuntu, <span class="caps">SUSE</span> and Debian, but also some other contributors. Upstream asked about the problems that distributions face, some minor one-time occurrences were discussed briefly. Stefano Maffulli, the openstack community manager was also present and there were some heated discussions about the way the project is governed. There are still a lot of things being discussed behind closed doors. Negotiations about the future of the project and fund-gathering is done with only a few big companies at a very high level. The community, on the other hand, was very vocal about wanting to rule itself with no enterprise interference.</p>

	<h4>Rethinking system and distro development</h4>

	<h5>Lars Wirzenius</h5>

	<p>Advanced the idea of maintaining groups of packages, all locked at a specific version. Having the maintainers always know which combination of versions a bug comes from would make the whole environment easier to replicate and the bug easier to reproduce. This would also, supposedly, reduce some of the complexities of dealing with dependencies.</p>

	<p>These groups of packages would be built directly from the upstream&#8217;s sources, following rules laid out in a git repository. The speaker also said he wants to get rid of binary packages completely.</p>

	<p>If this were to be implemented, distributions could write functional tests against whole systems (continuously built images), rather than individual binary packages and ensure that a full configuration works.</p>

	<p>Someone from the audience mentioned that a lot of the ideas in the talk are already implemented in NixOS(nixos.org) (which looks like a very interesting project in itself).</p>

	<h4><span class="caps">SUNDAY</span></h4>

	<h4>Continuos Integration/ Continuos Delivery</h4>

	<h5>Karanbir Singh &#8211; CentOS</h5>

	<p>The speaker discussed the system which CentOS uses for continuous integration. I liked their laissez-faire approach to which type of functional test language they should be using. They basically allow any type of language/environment to be used when running tests. The only requirement is that the test returns 0 on success and something else on failure. Anyone can write functional tests in any language they want (they just specify the packages as requirements for their test environment). People can choose to maintain different groups of packages along with the tests associated to them.</p>

	<h4>The Apache <a href="http://cassandra.apache.org">Cassandra</a> Storage Engine</h4>

	<h5>Sylvain Lebresne</h5>

	<p>A lot of interesting concepts about the optimizations that were made in the Cassandra project in order to speed up writes and make reads twice as fast (almost as fast as reads): different levels of caching, queuing writes, merge sorting the read cache with the physical data on reads etc.</p>

	<h4><a href="http://freedomboxfoundation.org/">Freedom, Out of the Box!</a></h4>

	<h5>Bdale Garbee</h5>

	<p>An interesting project about making a truly free easily available software as well as hardware system. Some interesting concepts are used in this project like <span class="caps">GPG</span> keys for authentication, but also for the trust required to provide a truly decentralized peer based network, free from <span class="caps">DNS</span>es.</p>

<hr/>

	<p>I&#8217;ve been to a few other talks that I can&#8217;t remember anything from either because of the bad quality of the presentation or because I didn&#8217;t have the prerequisite knowledge to understand what they were talking about. Next time I should also take notes.</p>

	<p>A lot of the talks were recorded and are available over here (with more coming): <a href="http://video.fosdem.org/2012/"><span class="caps">FOSDEM</span> 2012 videos</a>. The quality of the recordings (esp. in the main room) is sometimes even better than being there live. The voice is clearer and there is no ambient noise. Also, as it was really cold in most of the rooms &#8211; I had to keep my jacket and hat on.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/programming.html">programming</a>
                <a href="/tag/databases.html">databases</a>
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/fedora.html">fedora</a>
        </div>
        <a href="http://mapleoin.github.io/perma/FOSDEM-2012-review#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="sql-and-relational-theory-master">
        <h2><a href="http://mapleoin.github.io/perma/sql-and-relational-theory-master">SQL and Relation Theory Master Class</a></h2>
        <div class="postmeta">Monday, September 26, 2011</div>

        <div class="entry">
            	<p><a href="http://oreilly.com/catalog/0636920010005/" class="img"><img alt="" src="&gt;http://covers.oreilly.com/images/0636920010005/s.gif" /></a> This video course is perhaps the best way to meet the famous C. J. Date and his astonishingly comprehensive style. The lectures are a great introduction to database theory while at the same time they lay a very solid foundation for any database practitioners or theorists. The author introduces some very useful theoretical notions that are essential to grasping the more subtle concepts of database design and he does so in a high-class fashion.</p>

	<p>C. J. Date&#8217;s style of explaining and teaching, which can also be seen in his books, is didactic and very thorough while at the same time astonishingly clear. Many times while reading the book that these videos are based on and even afterward while watching the videos, I had to stop in order to reflect at the great volume of information that I had absorbed in a surprisingly simple manner. These videos are full of very deep notions about databases and can really benefit from reviewing at a later time, just to cement the knowledge or reflect on certain topics which come up during everyday practice.</p>

	<p>C. J. Date sets out to demolish <span class="caps">SQL</span> as a language fit for relational theory and databases in general. While going through all the database theory concepts he presents the ideal case and an ideal query language (actually not ideal, but as he demonstrates, the correct ones) contrasting them to generic <span class="caps">SQL</span>. He also posits and sets out to prove, in a very interesting argument, that relational databases are the only way to store data and all other data models <strong>will not endure</strong>. </p>

	<p>These are the days of <span class="caps">NOSQL</span> databases, but I think that the information contained in these lectures will be useful for a lot more time and in a lot more settings than just conventional <span class="caps">SQL</span> databases that are used in the majority of current systems. I oftentimes find myself thinking in relational terms even while designing the redis data model that I&#8217;m currently working on.</p>

	<p>The only problem I have is that I sometimes felt that the lectures were a bit dull. It is also possible that I got this impression because I was watching too many without interruption :). While the content of the lectures is excellent, the presentation could be improved. Often times I felt that the audience present in the classroom could have done more to improve the dynamism of the lectures. It seemed that the only reason why they were there was so that the presenter wouldn&#8217;t feel alone. I would have enjoyed more challenging questions and especially some skeptical comments from industry veterans perhaps. I&#8217;m sure those would have led to very interesting debates considering the high class of the lecturer and presumably, the attendants.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/programming.html">programming</a>
                <a href="/tag/databases.html">databases</a>
                <a href="/tag/books.html">books</a>
        </div>
        <a href="http://mapleoin.github.io/perma/sql-and-relational-theory-master#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="copr-final-report">
        <h2><a href="http://mapleoin.github.io/perma/copr-final-report">Copr final report</a></h2>
        <div class="postmeta">Tuesday, September 28, 2010</div>

        <div class="entry">
            	<p><a href="https://fedoraproject.org/wiki/Summer_Coding_2010">Fedora Summer Coding</a> is now over for me and I&#8217;m really glad of what I learned and coded this summer.</p>

	<p>Our initial goal was to develop a TurboGears2 Web app and <span class="caps">JSON</span> <span class="caps">API</span> for <a href="https://fedoraproject.org/wiki/Category%3ACopr">Fedora Copr</a>. When finished, Copr should provide everyone with a place to build Fedora packages and host custom repositories for everyone to enjoy. This is a project that should prove quite popular in the Fedora Community when it gets released and I&#8217;m glad to have played a role in its development.</p>

	<p>At first I worked on the web app, modeling the database and the relationship between coprs and repos and packages and then developing the <span class="caps">JSON</span> <span class="caps">API</span>. When the midterm came, my mentor and I decided that I should also contribute to the other parts of Copr. The original schedule had a simple command-line client planned, but we went further than that. In the end all of the functionality of the <span class="caps">JSON</span> <span class="caps">API</span> also got implemented in a client library (based on and very similar to <a href="https://fedorahosted.org/python-fedora/">python-fedora</a>) and in a command-line client. I also got to dive into python-fedora&#8217;s and repoze.who&#8217;s internals in order to get basic <span class="caps">HTTP</span> authentication working for TurboGears2.</p>

	<p>My latest work has been on the <a href="https://fedorahosted.org/func/">func</a> module. This is the buildsystem part of Copr. Func minions running this module will be commanded by <a href="https://fedorahosted.org/headhunter">headhunter</a> (Copr&#8217;s scheduler) to build packages in mock and then move them into repositories. The module also creates, updates and deletes package repositories and will check the built packages for Fedora conformance (e.g. licensing) &#8211; this last part is not yet implemented. I got to play with virtual machines and func and <a href="https://fedoraproject.org/wiki/Projects/Mock">mock</a> and <a href="http://createrepo.baseurl.org/">createrepo</a>.</p>

	<p>There is a more synthethic overview of all the different things that got implemented <a href="https://fedoraproject.org/wiki/User%3AMapleoin/FSC-Copr-status">on the wiki</a>.</p>

	<p>Overall, I&#8217;m really glad of what I learned this summer. This project really got me involved in a lot of different levels of the architecture of a web service and a lot of different technologies. Some of the things I worked on looked really scary at first, but as I went nearer and read more code the mist slowly vanished.</p>

	<p>My mentor, <a href="http://anonbadger.wordpress.com/">Toshio Kuratomi</a> was great as always. This isn&#8217;t the first project I&#8217;ve had him as my mentor. He was always there to talk to and always had great answers to all of my questions. He had great patience in answering and explaining anything I asked about. Our discussions were mostly about the architecture of the app we were building, but he also gave me great tips on the inner workings of python-fedora or on deploying the web app. I felt I had a lot of liberty to decide the way things will get implemented. Regardless of whether we will ever work together again, Toshio will always be a great inspiration for me as a programmer and as a person.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/fedora.html">fedora</a>
                <a href="/tag/copr.html">copr</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
                <a href="/tag/foss.html">foss</a>
        </div>
        <a href="http://mapleoin.github.io/perma/copr-final-report#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="moving-on-to-the-buildsystem">
        <h2><a href="http://mapleoin.github.io/perma/moving-on-to-the-buildsystem">FSC: moving to the buildsystem</a></h2>
        <div class="postmeta">Monday, September  6, 2010</div>

        <div class="entry">
            	<p>I started working on the buildsystem part of copr this week. Right now, I&#8217;m still getting familiar with <a href="http://fedorahosted.org/func">func</a>. That&#8217;s what we&#8217;ll be using to communicate with the builder machines: get them running errands and get back status reports at any time. I spent a lot of time getting a virtual machine setup with libvirt; networking especially was a pain (mostly because of my pppoe connection I think).</p>

	<p>One nice feature of func that I think we&#8217;ll be using a lot is the <a href="https://fedorahosted.org/func/wiki/AsyncUsage">async mode</a>. A mock build takes a lot of time, what with all the yumming and compiling. So starting a task via one of the user interfaces and then choosing whether or not to keep watching it and what to watch for will probably be an essential part of the buildsystem&#8217;s functionality.</p>

	<p>In the meantime, we&#8217;re slowly <a href="https://fedorahosted.org/fedora-infrastructure/ticket/2339">getting resources</a> for the deployment of Copr. Toshio got a running instance of the current state of the TG app on <a href="http://publictest1.fedoraproject.org/copr/">publictest1</a>. It looks just like a quickstarted TG app, because it doesn&#8217;t have any WebUI. But it can <span class="caps">CRUD</span> coprs, handle dependencies between them, handle permissions and <span class="caps">CRD</span> packages. Most of the functions require a <a href="http://admin.fedoraproject.org/accounts"><span class="caps">FAS</span></a> account, but you don&#8217;t need one to see a <a href="http://publictest1.fedoraproject.org/copr/coprs.json">list of all the coprs</a>, or a <a href="http://publictest1.fedoraproject.org/copr/firstcopr/packages.json">list of packages in a copr</a>.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/copr.html">copr</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
                <a href="/tag/foss.html">foss</a>
        </div>
        <a href="http://mapleoin.github.io/perma/moving-on-to-the-buildsystem#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="copr-client-part-2">
        <h2><a href="http://mapleoin.github.io/perma/copr-client-part-2">the Copr client part II</a></h2>
        <div class="postmeta">Monday, August 30, 2010</div>

        <div class="entry">
            	<p>I spent this week finishing up the copr client. It now supports all the functionality that the Copr TG <span class="caps">API</span> supports. It&#8217;s not much, but it&#8217;s a starting point.</p>

	<p>I spent a lot of time trying to understand the way repoze.who works and the authentication plugins that we&#8217;re using for the <a href="https://fedorahosted.org/python-fedora/">python-fedora</a> <a href="https://admin.fedoraproject.org/accounts"><span class="caps">FAS</span></a> authentication plugin. I finally understood it, I think&#8230; The Fedora client library didn&#8217;t support basic <span class="caps">HTTP</span> Authentication for TG2 apps so I had to figure out how to integrate that into our authentication plugin. It was quite fun all in all, repoze.who has a very interesting way of doing authentication and writing wsgi middleware is always exciting ;). This patch will hopefully go upstream to python-fedora now.</p>

	<p>This next week I&#8217;ll probably start working on the buildsystem part of Copr. There are a lot of new things to learn there.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/copr.html">copr</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
                <a href="/tag/foss.html">foss</a>
        </div>
        <a href="http://mapleoin.github.io/perma/copr-client-part-2#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="copr-client">
        <h2><a href="http://mapleoin.github.io/perma/copr-client">the Copr client</a></h2>
        <div class="postmeta">Monday, August 23, 2010</div>

        <div class="entry">
            	<p>This last week I started working on the command line client to <a href="https://fedoraproject.org/wiki/Category%3ACopr">Copr</a>. Luckily, the <a href="https://fedorahosted.org/python-fedora">python-fedora</a> already has a lot of code in place to make the task of writing clients for TurboGears apps a lot easier. Some of <a href="http://admin.fedoraproject.org/pkgdb">the</a> <a href="http://admin.fedoraproject.org/updates">apps</a> <a href="http://admin.fedoraproject.org/accounts">in</a> infrastructure are already using this library, which make for some good examples.</p>

	<p>So I&#8217;m building a client library and a client um&#8230; command line client. The command line client is basically one big <a href="http://docs.python.org/library/argparse.html">argparse</a> application that calls the functions in the client library and sometimes does a bit of formatting on the output. The client library implements a fedora.client.BaseClient that mostly just calls json methods on the Copr server.</p>

	<p>It&#8217;s all pretty simple. The hard part is deciding what the command line client&#8217;s interface will look like. In argparse parlance, which ones should be the positional arguments and which should be the optional arguments. So far I&#8217;ve been inclined to use something that looks like a <span class="caps">VCS</span>&#8217;s interface. Here&#8217;s what it looks like so far:</p>

<pre>
$ python client/bin.py -h
usage: bin.py [-h] [-v] [-u USERNAME] [-p PASSWORD] [--url URL]
              {info,edit,create,list,delete}
Command line tool for interacting with Fedora Copr
positional arguments:
  {info,edit,create,list,delete}
    list                list all the available Coprs
    info                get information about a specific Copr
    create              create a new Copr
    edit                edit an existing copr
    delete              delete an existing copr
optional arguments:
  -h, --help            show this help message and exit
  -v, --version
  --url URL             provide an alternate url for the Copr service
authentication:
  -u USERNAME, --username USERNAME
  -p PASSWORD, --password PASSWORD
</pre>

	<p>Right now, all the copr functions are top-level. I wonder if I&#8217;ll have to create a deeper level of nesting when I start implementing package-related functions.</p>

	<p>I&#8217;m also having a few problems with the BaseClient that I&#8217;ll probably have to solve this week. All of the other client libraries were written for TurboGears 1.x and it seems that authentication has changed in TurboGears 2. There&#8217;s also no support for <span class="caps">HTTP</span> <span class="caps">PUT</span> and <span class="caps">DELETE</span> which I would like to use since I used RestControllers in the <span class="caps">API</span>. I also had to write a patch for file upload support; that seems to work well so far.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/copr.html">copr</a>
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
        </div>
        <a href="http://mapleoin.github.io/perma/copr-client#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="ruby-koans">
        <h2><a href="http://mapleoin.github.io/perma/ruby-koans">Ruby koans</a></h2>
        <div class="postmeta">Sunday, August 22, 2010</div>

        <div class="entry">
            	<p>I had a great time today with <a href="http://www.rubykoans.com/">Ruby Koans</a>. It took me about 5 hours in all. A good way to spend a Sunday afternoon I suppose.</p>

	<p>These Ruby Koans are a great way to go on a quick journey through a lot of Ruby&#8217;s common features. You basically have to edit tests in order to get them working. It&#8217;s mostly reading tests actually, but the fact that you have to fill in some blanks keeps the mind from wandering. There are also a couple of exercises which imply a bit more coding.</p>

	<p>I have a good knowledge of Python and have worked with Ruby in the past on a little Rails project. I had forgotten anything I knew about Ruby though. Yesterday, I don&#8217;t think I would&#8217;ve been able to write a foobaz in Ruby without looking for help online. This proved to be a welcome refresher. Solving these koans gives a great tour of Ruby. As I went through them I kept thinking of how I would do those things with Python. I really like Python&#8217;s philosophy and maybe solving all these ruby koans has made me appreciate Python&#8217;s simplicity and predictability a bit more. Ruby allows for a lot more flexibility however and the koans left me to wonder at what amazing feats this language could accomplish.</p>

	<p>I wouldn&#8217;t recommend this to a beginner however. While I think I now have a pretty good idea of what the language can do, there were no whys or recommendations about all these features. Maybe it would be a good starting point (or a <em>dive</em>) for someone coming from a similar language (like Python), before moving on to a good Ruby book. The website claims that they teach culture in addition to Ruby. I would&#8217;ve liked more of that. Maybe it was too subtle for me, but I didn&#8217;t notice anything other than some references to oriental philosophy: <code>test_assert_truth has damaged your karma. You have not yet reached enlightenment ...</code></p>

	<p>There are a lot of ports of the Ruby Koans. There&#8217;s one for <a href="http://wiki.github.com/gregmalcolm/python_koans/">python</a> and there are also a bunch for <a href="http://github.com/relevance/functional-koans">functional languages</a>: Clojure, F#, Haskell and Scala. These look like a lot of fun, maybe I&#8217;ll try them next week.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/hacking.html">hacking</a>
        </div>
        <a href="http://mapleoin.github.io/perma/ruby-koans#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="midterm-report">
        <h2><a href="http://mapleoin.github.io/perma/midterm-report">Fedora Summer Coding midterm</a></h2>
        <div class="postmeta">Monday, August 16, 2010</div>

        <div class="entry">
            	<p>This midterm scared me when I found out about it on Friday when I looked at the schedule I had set myself. However, I have done the work that I should have done by this point in the project. When I wrote the proposal I had assumed that the buildsystem would already be built before me starting coding on the TG app, but that is not the case. Therefore I could only code the user-facing <span class="caps">JSON</span> interface that interacts with the DB as it would if the buildsystem would provide it with packages and repos. Except that there are no packages and repos at this stage.</p>

	<p>So for this midterm, we&#8217;ve got working Copr <span class="caps">CRUD</span>, dependency handling and release/repo editing on a Copr. I also coded the Package <span class="caps">CRUD</span>, which basically allows for uploads of <span class="caps">SRPM</span>s, stores the info in the db and also allows for information retrieval and deleting packages. Actually building packages and retrieving packagebuilds will have to wait for the buildsystem to be built.</p>

	<p>After I finish polishing things a bit, I will probably start working on a basic client and then maybe move on to working on the buildsystem part of Copr. That should be loads of fun especially since I haven&#8217;t done anything quite like this before. So it will be hard, but fun :).</p>

	<p>If anyone wants to check out what Copr looks like so far, you&#8217;ll just have to install TurboGears 2.0.x and then:</p>

<div class="Bash"><div class="highlight"><pre> $ bzr branch bzr://bzr.fedorahosted.org/bzr/copr/devel
 $ <span class="nb">cd</span> devel
 $ python setup.py develop
 $ paster setup-app development.ini
</pre></div>
</div>

	<p>And you should have a working Copr. You can run the unit tests with the <code>nosetests</code> command and all 52 of them should run fine. Yay!</p>

	<p>Congratulations to everyone who is finishing their <span class="caps">FSC</span> adventure today! I&#8217;ll still be coding for another month or so.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/copr.html">copr</a>
                <a href="/tag/fedora.html">fedora</a>
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
        </div>
        <a href="http://mapleoin.github.io/perma/midterm-report#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="copr-design-being-all-things">
        <h2><a href="http://mapleoin.github.io/perma/copr-design-being-all-things">Copr design - being all things to all people</a></h2>
        <div class="postmeta">Monday, August  9, 2010</div>

        <div class="entry">
            	<p>Lots of things happened this third Fedora Summer Coding week. Most people are already wrapping up, but I feel like I&#8217;m still at the beginning.</p>

	<p>The biggest accomplishment of this week has got to be the fact that we (I and my mentor, Toshio) settled on a stable design for representing Coprs, Repos and their relationships. It was harder than it might seem, since we&#8217;ve got all these different entities in Fedora: we&#8217;ve got repos that you could look at as being either a directory with a release and an architecture or a repofile that is the same across releases and arches. When talking about releases we&#8217;ve got Fedora releases (e.g. Fedora 13, Fedora 14) and then we&#8217;ve got the packages for other distros with their own releases: <span class="caps">EPEL</span> and <span class="caps">OLPC</span>.</p>

	<p>Now, on top of all of this we&#8217;ve got Coprs and (at least) two groups of users for the <span class="caps">API</span>: the end-users of the Coprs &#8211; the people that install the repos and the packages and the developers of the packages in the Coprs. The end users shouldn&#8217;t have to deal with the intricacies of the Copr/Repos/Releases model; ideally they&#8217;d just have one big button per the distribution they&#8217;re using, so they can install the repo once and have it work even after they&#8217;ve upgraded their distro three times or reinstalled five times (which is sort of how a repofile works). The package developers on the other hand could get hurt by the differences between different distro releases and their different packages &#8211; when depending on different package versions for example.</p>

	<p>So finally we get to Coprs which should basically be a collection of packages that are available for one or more distros with each one having one or more releases. The package maintainer gets to create a Copr and choose a number of releases which they want to support with that Copr. One Copr can depend on as many other Coprs as needed. When the maintainer creates a Copr, the Copr App will automatically create repos for all of the specified releases and for each of the architectures that are supported by the buildsystem.</p>

	<p>Everything I said until now is already implemented at the level of the TurboGears App which will provide the <span class="caps">API</span> for the web interface and any number of <span class="caps">JSON</span> clients. The schema is built and the database insteraction works fine, but repos don&#8217;t actually get created, because that&#8217;s not part of my proposal and will be handled at a different level. Oh and it&#8217;s all unit tested!</p>

	<p>This week wasn&#8217;t just designing and building though, I spent a lot of time digging through TurboGears2 and its sub-packages&#8217; documentation for things that should make the code simpler: raising <span class="caps">JSON</span> errors from nested functions, sending list arguments to <span class="caps">JSON</span> functions via WebTest post requests and even returning a flat list from a <span class="caps">SQLA</span>lchemy query on a single table column. All of these things seem to me like they should already be implemented and easy to use which makes me waste time searching for them. In fact they either are bugs or require coding them myself (at least from what I understand so far). I&#8217;ll have to investigate further, especially now since the weekend is over and I hope there&#8217;ll be more people answering questions on <span class="caps">IRC</span> and on issue trackers.</p>

	<p>This next week I&#8217;ll mostly start worrying about what happens when a package maintainer submits a package to be built and that package has the right dependencies available in some releases, but not others, even though the Copr should support all of them. Will she have to submit different <span class="caps">SRPMS</span> for each release or should the Copr have the same version of the package in all of its releases? This will be a matter of settling upon a contract that the Copr provides its users and how uniform the Copr&#8217;s content has to be.</p>

	<p>Fedora Summer Coding! Yay!</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/copr.html">copr</a>
                <a href="/tag/fedora.html">fedora</a>
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
        </div>
        <a href="http://mapleoin.github.io/perma/copr-design-being-all-things#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="basic-coprs-crud">
        <h2><a href="http://mapleoin.github.io/perma/basic-coprs-crud">CRUD for Coprs and testing</a></h2>
        <div class="postmeta">Monday, August  2, 2010</div>

        <div class="entry">
            	<p>This last week I worked on the first controller for the <a href="https://fedoraproject.org/wiki/Category%3ACopr">Copr</a> <a href="https://fedoraproject.org/wiki/Summer_Coding_2010_proposal_-_Copr_TG_app">TG App</a>. There is now a <span class="caps">JSON</span> <span class="caps">API</span> to <span class="caps">CRUD</span> Coprs in the TG App&#8217;s database. It also supports adding/removing Copr dependencies. And everything in this first controller is (mostly?) tested with nose unit tests. The happy thing is I&#8217;m still on schedule, though I&#8217;m not ahead of it anymore, which I actually expected.</p>

	<p>I encountered a couple of problems while setting up testing. I installed python-fedora&#8217;s <span class="caps">FAS</span> authorization repoze-who plugin and wasted a lot of time trying to get that working with webtest. In the process I managed to screw up something in my TurboGears installation. Since I was already too deep down the rabbit&#8217;s hole I gave up on it. (I also figured out that I don&#8217;t actually need to test anything about the <span class="caps">FAS</span> integration so I don&#8217;t even need to install it). So I proceeded to install TG2 inside a python virtualenv which feels a lot more hygienic and will be a lot easier to replace in case of future screw-ups. I had a few problems there aswell since the documented way to install TurboGears2 without distro-packages is broken <span class="caps">ATM</span>, but I now have virtualenv! Yay!</p>

	<p>Now the next step is to figure out the right relationship between Coprs and Repos and write some code to manage Repos transparently for the user. I also have to learn to write more frequent status updates.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/fedora.html">fedora</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
                <a href="/tag/copr.html">copr</a>
        </div>
        <a href="http://mapleoin.github.io/perma/basic-coprs-crud#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="the-late-fedora-summer-coder">
        <h2><a href="http://mapleoin.github.io/perma/the-late-fedora-summer-coder">The late Fedora Summer coder</a></h2>
        <div class="postmeta">Sunday, July 25, 2010</div>

        <div class="entry">
            	<p>I started my <a href="https://fedoraproject.org/wiki/Summer_Coding_2010">Fedora Summer Coding</a> last week. Although most people started almost two months ago, I chose (and was allowed to &#8211; Yay, <acronym title="Fedora Summer Coding"><span class="caps">FSC</span></acronym>!) a different schedule because I just finished college last week.</p>

	<p>This summer I&#8217;ll be working on a new project for Fedora &#8211; <a href="https://fedoraproject.org/wiki/Category%3ACopr">Copr</a>. Fedora Copr will allow any Fedorian to have their own package repository with packages built and hosted by <a href="https://fedoraproject.org/wiki/Infrastructure">Fedora&#8217;s Infrastructure</a>. My mentor this summer will be <a href="http://anonbadger.wordpress.com/">Toshio</a>, I&#8217;ve always enjoyed working with him and this summer will be no different. <a href="https://fedoraproject.org/wiki/Summer_Coding_2010_proposal_-_Copr_TG_app">Here</a> is my actual <acronym title="Fedora Summer Coding"><span class="caps">FSC</span></acronym> proposal. Although the things written in that proposal are turning out to be a bit inaccurate, it&#8217;s still a good bird&#8217;s eye view of what I&#8217;m going to do this summer. </p>

	<p>So about the first week. Things started really slow. I did a lot of orientation, certainly more than I thought I would. I hadn&#8217;t used TurboGears2 before, though I had worked with TurboGears 1.x on <a href="https://admin.fedoraproject.org/pkgdb">Fedora&#8217;s pkgdb</a>. When I started out I had only a TG2 automatically generated skeleton app &#8211; well it&#8217;s mostly the same now, though at least I now know a lot more about what&#8217;s in there. The fact that I had to start it up myself meant I had to learn a lot of things about TG2 that I would&#8217;ve normally just copied from other parts of a fully-functional project. And that was a great experience. In a way it&#8217;s fulfilling to be able to <em>pioneer</em> things in this way ;). I&#8217;m trying to only ask my mentor questions about designing the actual app and solve my &#8220;How do I &#8230; in TurboGears/Python?&#8221; questions elsewhere. My mentor has always given me a lot of independence when working on things and that feels really good, though at times I feel inexperienced. There&#8217;s the thought that the project I&#8217;m working on will be used by a lot of technical users and I&#8217;m really not sure what my decisions&#8217; impact will be on the whole project.</p>

	<p>I&#8217;m mostly on time with my <a href="https://fedoraproject.org/wiki/Summer_Coding_2010_proposal_-_Copr_TG_app#Timeline">mock-up schedule</a> because I had set the first week for orienteering. I also wrote the DB schema for Coprs, though that was on the second week. That doesn&#8217;t mean I&#8217;m ahead of schedule however, because I&#8217;ll probably have a lot to work on the Copr controllers, and a lot of documenting and designing.</p>

	<p>I&#8217;m proud that I setup testing after a day of wading through the scattered documentation of TurboGears2 testing. There&#8217;s mostly no documentation on testing on the <a href="http://www.turbogears.org/2.0/docs/toc.html">TurboGears2.0 docs website</a>. So I went to the <a href="http://somethingaboutorange.com/mrl/projects/nose/0.11.2/">python nose</a> webpage. But they don&#8217;t have any info on the TurboGears2 web helpers which I needed to use. So I went to <a href="http://pylonsbook.com/en/1.1/testing.html">pylonshq docs about testing</a>, but they use a slightly different syntax because they&#8217;re using paste.fixture. I finally found the <a href="http://turbogears.org/2.1/docs/main/Testing/index.html">TurboGears2.1 testing docs</a> which was what I really needed. It turns out that TurboGears 2.x uses <a href="http://pythonpaste.org/webtest/">WebTest</a>.</p>

	<p>So now I have testing. My project is not supposed to have any web interface at this point, so writing tests is the easiest way to prove that things are actually working.</p>

	<p>This next week I&#8217;ll probably get some work done on Copr controllers. Implementing the ability to <span class="caps">CRUD</span> Coprs and Repos.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/linux.html">linux</a>
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/fedora.html">fedora</a>
                <a href="/tag/fedora-summer-coding.html">fedora-summer-coding</a>
                <a href="/tag/copr.html">copr</a>
        </div>
        <a href="http://mapleoin.github.io/perma/the-late-fedora-summer-coder#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="actualizare-automata-metadata-yum">
        <h2><a href="http://mapleoin.github.io/perma/actualizare-automata-metadata-yum">Cum s actualizezi metadatele yum n mod automat</a></h2>
        <div class="postmeta">Thursday, March 18, 2010</div>

        <div class="entry">
            	<p>Unul dintre lucrurile care m enerveaz cel mai tare ca utilizator desktop la yum e c de fiecare dat cnd vreau s caut sau s instalez un pachet, trebuie s atept cteva secunde bune pn i actualizeaz metadatele pentru toate depozitele active. Astzi am avut timp s caut o metod de a scpa de neplcerea asta i a fost destul de simplu de gsit.</p>

	<p>Rezolvarea nu este s dezactivm complet actualizarea metadatelor, pentru c am putea ncerca s instalm pachete a cror dependine au fost actualizate i a cror versiune exact nu se mai gsete n depozit =&gt; <em>dependency hell</em>.</p>

	<p>Se pare c exist un program <em>yum-updatesd</em> (<code>su -c "yum install yum-updatesd"</code>) care poate actualiza automat metadatele.</p>

	<p>Dup ce l-am instalat, putem modifica <code>/etc/yum/yum-updatesd.conf</code> dac vrem s facem lucruri dubioase, cum ar fi s l lsm s instaleze actualizri automat &#8212; pentru c trim ntr-o utopie n care actualizrile nu stric niciodat nimic &#8212; sau, mai puin dubios, doar s le descarce.</p>

	<p>Acum c am terminat cu setrile, putem porni serviciul cu:</p>

<div class="Bash"><div class="highlight"><pre> $ su -c <span class="s2">&quot;service yum-updatesd start&quot;</span>
 $ cacamaca
</pre></div>
</div>

	<p>i l putem pune s se porneasc automat la fiecare boot:</p>

<div class="Bash"><div class="highlight"><pre> $ su -c <span class="s2">&quot;chkconfig yum-updatesd on&quot;</span>
</pre></div>
</div>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/fedora-ro.html">fedora-ro</a>
                <a href="/tag/linux.html">linux</a>
                <a href="/tag/foss.html">foss</a>
        </div>
        <a href="http://mapleoin.github.io/perma/actualizare-automata-metadata-yum#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="packaging-for-fedora">
        <h2><a href="http://mapleoin.github.io/perma/packaging-for-fedora">Beginning packaging for Fedora</a></h2>
        <div class="postmeta">Friday, September 11, 2009</div>

        <div class="entry">
            	<p>With <span class="caps">GSOC</span> now over, which I should write a blogpost about soon, I&#8217;ve taken a break from pkgdb and web programming and started developing another skill.</p>

	<p>The fact that <a href="https://admin.fedoraproject.org/pkgdb/users/packages/mapleoin">this page</a> is empty has been bugging me for too much time, so I set out to fix it. I also wanted to find out more about the packaging process and the road of a package before it gets accepted into fedora&#8217;s official repos which is a bit complex. This knowledge would also help me better understand the parts of pkgdb which packagers interact with.</p>

	<p>It was not my first time trying to make a package for fedora. I think this is actually my third time. I&#8217;d given up before, scared by all the different tools and scattered documentation. In a previous life, I had made some <a href="http://aur.archlinux.org/"><span class="caps">AUR</span></a> packages, but the experience is a lot different. I&#8217;m now starting to get used to all the different tools that I was scared of before, like mock and rpmlint and I can now find my way around the fedora wiki for package related information. There is a wealth of information in the wiki, but you need a lot of patience.</p>

	<p>I started slow, with quite a complex application to package: <a href="http://calibre.kovidgoyal.net/">Calibre</a>. Having all those different distros is great when you&#8217;re a packager, because you have somewhere to look for help and the Debian package of calibre helped me a lot. It took me about two days to get a somewhat acceptable version of calibre packaged, which I then posted to redhat&#8217;s bugzilla. The following days I found more small apps to be packaged and it became easier and easier for me to do it. Last night for example, I was just browsing <a href="http://news.ycombinator.org">Hacker News</a> as usual when I found a link to <a href="http://developers.facebook.com/news.php?blog=1&amp;amp%3Bstory=301">facebook&#8217;s opensourcing of their web server framework</a> . I just rushed to the download and installation instructions page and I quickly got it packaged. I&#8217;m not saying it&#8217;s perfect, it probably needs a lot of improvement, but it was fun to do. It&#8217;s fun to think that you&#8217;re making things easier for someone and learning a lot at the same time. I now have 5 packages waiting to be reviewed and I&#8217;ve found someone willing to sponsor me into the <strong>packager</strong> group. Anyone in a package-review mood? ;)</p>

	<p>My journey into the packaging world has been enlightening so far and the good thing is I&#8217;m just beginning. There&#8217;s a whole new world to be discovered out there and also another part of the fedora community.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/fedora.html">fedora</a>
                <a href="/tag/foss.html">foss</a>
                <a href="/tag/packaging.html">packaging</a>
        </div>
        <a href="http://mapleoin.github.io/perma/packaging-for-fedora#disqus_thread" class="comments">Comments</a>
    </article>
    <article id="GSOC-it-begins">
        <h2><a href="http://mapleoin.github.io/perma/GSOC-it-begins">GSOC - it begins...</a></h2>
        <div class="postmeta">Thursday, April 23, 2009</div>

        <div class="entry">
            	<p>My Fedora proposal got accepted to this year&#8217;s Google Summer of Code Program. You can look at a short abstract <a href="http://socghop.appspot.com/student_project/show/google/gsoc2009/redhat/t124024691190">here</a> . Now I&#8217;m going to try to explain what this project is about and what I did to prepare for being accepted, hopefully without going mad about how happy I am about it.</p>

	<p>I started work on the Fedora Project almost a year ago. One day I popped on the mailing list and then on the irc channel of the infrastructure team and asked for something to do. Luckily, Toshio Kuratomi was on the watch and after giving me a short tour of the various projects he could help me get familiar with, I picked the package database. Most of the work I&#8217;ve done so far is in the <a href="https://admin.fedoraproject.org/pkgdb/">pkgdb</a> (the search capability is the most obvious thing I worked on). The overview on the front page describes it quite well; it&#8217;s got package information and it&#8217;s aimed at package developers. It&#8217;s not a very famous part of the fedora project websites, certainly not as famous as something like packages.ubuntu.com is for ubuntu. But that&#8217;s not what it was intended for, even if that&#8217;s what attracted me to the project at first. I liked the exposure of such a website, but also the fact that, at the time, it was easier for me to understand what it did and how it worked :).</p>

	<p>The idea of making the package database more user-friendly as opposed to developer-centric wasn&#8217;t a new one. Toshio, the main developer had been thinking about it for a long time, but I guess it never really became a priority. The idea had also been <a href="http://fedoraproject.org/wiki/SummerCoding/2008/Ideas#Package_WebUI">proposed</a> for last year&#8217;s <span class="caps">GSOC</span>, but it hadn&#8217;t been accepted (this scared me a bit when I found out). I picked this idea on a whim when I told Toshio I wanted to participate in this year&#8217;s <span class="caps">GSOC</span> on pkgdb and he asked me what exactly I wanted to do. I wasn&#8217;t expecting the question, so I answered with the first thing that came to mind. Looking back, I think it was a good choice.</p>

	<p>All my involvement with the Fedora Project owes a lot to the best possible person who could have become my mentor for <span class="caps">GSOC</span>. The Infrastructure Team is a great one to work with, and the Fedora contributor community is made up of a lot of smart, fun and selfless people. I say this after having spent a lot of time lurking the <span class="caps">IRC</span> channels, the various mailing lists, the planet etc. and to a somewhat lesser extent interacting with other contributors. However, I wouldn&#8217;t have continued contributing if it weren&#8217;t for the continuous support and guidance of Toshio. I probably wouldn&#8217;t have been able to participate in the <span class="caps">GSOC</span> without the many discussions (starting in February) with Toshio about the proposal and the support when explaining the idea to other community members. Having said that, I think that being familiar with the pkgdb also helped a lot with writing the proposal. I didn&#8217;t have to waste time on getting to know the code, the community, the devs as I would have if I had written a proposal for a different project. I also had a fair idea of what would constitute a good proposal and a rough idea about how it could be implemented. I think this helped with my credibility in the eyes of the mentors who ranked my proposal.</p>

	<p>I was never convinced I would get a spot on Fedora &amp; JBoss&#8217;s <a href="http://socghop.appspot.com/org/home/google/gsoc2009/redhat">accepted proposal&#8217;s list</a> , but it was is a great thing to dream of. The butterflies in my stomach were killing me at the end of the waiting period, especially since it had lasted for more than 2 months. I now have a summer to work full time on my hobby :).</p>

	<p>At the end of the summer, the fedora community will hopefully have a package database with package versions, size, dependencies, rss feeds, tagging, package reviews etc. There&#8217;s even a detailed <a href="https://fedorahosted.org/packagedb/wiki/EndUserUI">schedule</a> from my proposal you can drool on if you&#8217;re so inclined.</p>

	<p>And hello, fedora planet! Sorry for being late.</p>
        </div>
        <div class="post_tags postmeta">
          tags:
                <a href="/tag/gsoc.html">gsoc</a>
                <a href="/tag/fedora.html">fedora</a>
                <a href="/tag/programming.html">programming</a>
                <a href="/tag/foss.html">foss</a>
        </div>
        <a href="http://mapleoin.github.io/perma/GSOC-it-begins#disqus_thread" class="comments">Comments</a>
    </article>
</div>
<div style="clear: right;"></div>
</div><!-- container -->
<div id="smallprint"><a rel="license" href="https://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/80x15.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.</div>

<script id="dsq-count-scr" src="//revolutionblahg.disqus.com/count.js" async></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-5576939-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>
